# Java 抽象类与接口

抽象类：自下而上，先有子类代码重复，再抽象为父类。
接口：自上而下，先设计再考虑具体实现。

《Java 核心技术卷 1 》第 6 章笔记
	1. 接口是 `has-a`, 更多的用来解耦
	2. 抽象类是 `is-a`, 更多用来解决代码复用

##### 什么是虚函数
[Java常见知识点汇总（④）——虚函数、抽象函数、抽象类、接口 - 知乎](https://zhuanlan.zhihu.com/p/109823137)

[java中的虚函数 - 骚哥 - 博客园](https://www.cnblogs.com/saoge/p/16543547.html)
- 普通函数就是虚函数（同等于 C 语言中 virtual 关键词修饰的方法）
- 虚函数的存在是为了多态
- C++中普通成员函数加上virtual关键字就成为虚函数
    Java中其实没有虚函数的概念，它的普通函数就相当于C++的虚函数，动态绑定是Java的默认行为。如果Java中不希望某个函数具有虚函数特性，可以加上final关键字变成非虚函数
- 据统计Java的：静态方法、私有方法、final方法、实例构造器、父类方法都是非虚方法，除此之外都是虚方法
## 抽象类
抽象，就是对一类行为进行提取，行为就是方法，所以抽象方法，就不该有具体实现。
[深入理解Java的接口和抽象类 - Matrix海子 - 博客园](https://www.cnblogs.com/dolphin0520/p/3811437.html)
==抽象类==
1. 抽象方法：只有声明，没有具体实现
2. 一个类包含抽象方法，那这个类就要声明为抽象类
	1. 因为抽象类中含有无具体实现的方法，所以不能用抽象类创建对象
	2. 基于 1，抽象类必须被继承覆写才有意义
3. 抽象类和普通类的区别
	1. 抽象方法必须为 public 或者 protected（因为如果为 private，则不能被子类继承，子类便无法实现该方法），缺省情况下默认为 public
	2. 抽象类不能用来创建对象
	3. 如果一个类继承于一个抽象类，则子类必须实现父类的抽象方法。如果子类没有实现父类的抽象方法，则必须将子类也定义为为 abstract 类
==抽象类与接口的区别==
1. 抽象类是对一种事物的抽象，即对类的整体进行抽象，包括属性、行为。
2. 接口是对行为的抽象，是对类局部（行为）进行抽象。
3. 抽象类作为很多子类的父类，是一种模板式设计，而接口是一种行为规范，是一种辐射式的设计。

## 接口
[Java 接口](https://mp.weixin.qq.com/s?__biz=MzIxNzQwNjM3NA==&mid=2247487402&idx=1&sn=b3fc3365a442c02fac52a6f2fa595b87)
==接口是什么==
1. 面向对象很重要的就是抽象
2. 在 Java 里通过抽象类和接口来表达抽象
3. 在 Java 里，一个类只能继承一个抽象类，但可以实现多个接口
4. 接口里的变量会自动加上 `public static final` 修饰符，都是常量
5. 接口里的方法会自动加上 `public abstract` 修饰符，没有方法体，对行为进行抽象
6. 从 Java8 开始，接口允许有静态方法
	1. 无法由实现类去调用，只能由接口自身调用
	2. 提高了接口竞争力，不再需要创建对象就能调用方法
7. 从 Java8 开始，接口允许有默认方法
	1. 需要有方法体
	2. 为所有实现此接口的实现类提供此方法的默认实现
	3. 不然，接口中新增方法后要修改所有实现类进行覆写此方法。

==接口定义注意点==
1. 接口允许定义变量，实则为常量
2. 接口中允许定义抽象方法
3. Java8 后，允许定义静态方法
4. Java8 后，允许定义默认方法
此外
1. 接口不能直接实例化，要通过实现类
2. 接口可以是空的，既没有变量也没有方法，如 `Serializable ` 接口
3. 接口定义不能使用 [final关键字](final关键字.md)，因为接口就是让子类实现覆写的
4. 接口的抽象方法不能是 private、protected 或者 final
5. 接口的变量是隐式 `public static final`，所以其值无法改变

==接口可以做什么==
1. 使某些实现类具有我们想要的功能
2. Java 原则上只支持单一继承，但通过接口可以实现多重继承的目的
3. 实现多态

==接口与抽象类对比==
1. 语法层面上
	1. 抽象类可以有 `private、protected` 修饰的方法，接口不能有
	2. 抽象类中的变量可以是任意修饰符
	3. 一个类只能继承一个抽象类，但可以实现多个接口
2. 设计层面
	1. 抽象类是对类的一种抽象，继承抽象类的类和抽象类本身是一种 `is-a` 的关系。
	2. 接口是对类的某种行为的一种抽象，接口和类之间并没有很强的关联关系，所有的类都可以实现 `Serializable` 接口，从而具有序列化的功能。


## reference
1. [Java 为什么不支持多继承？ - 知乎](https://www.zhihu.com/question/24317891)
2. 