# è¯·æ±‚å‚æ•°åˆæ³•æ ¡éªŒ
##### é—®é¢˜
1. é’ˆå¯¹äºæµ®ç‚¹æ•°çš„æ ¡éªŒï¼Œæ¯”å¦‚å¤§äº 0.00 å°äº 9.99ï¼Œ@DecimalMinï¼ˆvalue ç±»å‹ä¸º stringï¼‰ã€@Max (value ç±»å‹ä¸º long)ã€@Range(value ç±»å‹ä¸º long), åè¾¹è¿™ä¿©æ ¹æœ¬å°±æ²¡æ³•è¾“å…¥æµ®ç‚¹æ•°ï¼Œç¬¬ä¸€ä¸ªçš„æ³¨é‡Šé‡Œ `Note that {@code double} and {@code float} are not supported due to rounding errors   (some providers might provide some approximative support).`ï¼Œå®é™…æµ‹è¯•ä¹Ÿæ˜¯æ”¯æŒçš„ï¼Œå…·ä½“æ˜¯è°æä¾›çš„å‘¢ï¼Ÿ
	1. `DecimalMinValidatorForFloat`
	2. åœ¨`org.hibernate.validator.internal.constraintvalidators`
 
##### æ–¹å¼
1. validate
2. ç¬¬ä¸‰æ–¹æ¡†æ¶
	1. [Javaçš„ä¸šåŠ¡é€»è¾‘éªŒè¯æ¡†æ¶fluent-validator](http://neoremind.com/2016/02/java%e7%9a%84%e4%b8%9a%e5%8a%a1%e9%80%bb%e8%be%91%e9%aa%8c%e8%af%81%e6%a1%86%e6%9e%b6fluent-validator/)
	2. [GitHub - houbb/validator: ğŸš¥Fluent-validation framework for java extend from hibernate-validator.ï¼ˆjava å¯¹è±¡å±æ€§æµå¼éªŒè¯æ¡†æ¶ï¼Œä¸‹ä¸€ä»£æ ¡éªŒæ¡†æ¶ã€‚å…¼å®¹å®ç° jakarta bean validationã€jsr 303ã€hibernate-validatorï¼‰](https://github.com/houbb/validator)
3. æ–­è¨€

### validate
1. spring validate ä½¿ç”¨ `@Validated` åŸºäºAOP æä¾›äº† æ–¹æ³•çº§åˆ«çš„å‚æ•°æ ¡éªŒï¼ŒåŒ…æ‹¬å¹³é“ºå‚æ•°å’Œ pojoã€‚
2. springMVC ä½¿ç”¨ Â Valid èµ·å¤´çš„æ³¨è§£  æä¾›äº†å¯¹ `@RequestBody` å‚æ•°çš„æ ¡éªŒ
3. springMVC å¹¶æ²¡æœ‰æä¾›å¯¹å¹³é“ºå‚æ•°çš„æ ¡éªŒï¼Œè¦å€Ÿç”¨ spring æä¾›çš„å¯¹å¹³é“ºå‚æ•°æ ¡éªŒçš„èƒ½åŠ›ã€‚
4. æœ€ç»ˆéƒ½æ˜¯è°ƒç”¨ hibernate validation è¿›è¡Œæ ¡éªŒ

##### ä½¿ç”¨æ€»ç»“
[æ€»ç»“springmvc ä¸­ validate çš„ä½¿ç”¨](Spring%20Validation.md#springmvc%20ä¸­%20validate%20åº”ç”¨åœºæ™¯)
1. controller ä¸Šå¿…é¡»åŠ  `@Validated`ï¼Œæ»¡è¶³ get è¯·æ±‚å¹³é“ºå‚æ•° åœºæ™¯
2. get è¯·æ±‚ å¹³é“ºå‚æ•°å‰åŠ æ ¡éªŒæ³¨è§£å¦‚@min ç­‰
3. get è¯·æ±‚ï¼Œpojo å‚æ•°ï¼Œå‚æ•°å‰åŠ  Valid èµ·å¤´çš„æ³¨è§£
4. å¯¹äº@requestBody çš„ post/put è¯·æ±‚ï¼Œå‚æ•°å‰åŠ  Valid èµ·å¤´çš„æ³¨è§£ï¼Œæœ‰åµŒå¥—çš„ (pojo æˆ–é›†åˆ)ï¼ŒåµŒå¥—å±æ€§ä¸ŠåŠ  `@Valid`
5. pojo çš„ class å¤´ä¸Šä¸éœ€è¦åŠ  `@Valid` æˆ–è€… `@Validated`
6. æ ¡éªŒä¸€ä¸ªæ˜¯æœ‰æ²¡æœ‰è¿™ä¸ªå€¼æ ¡éªŒï¼Œå†ä¸€ä¸ªå°±æ˜¯å€¼å†…å®¹æ ¡éªŒã€‚
	1. å¯ä»¥åˆ©ç”¨å€¼å†…å®¹æ ¡éªŒå®Œæˆæ˜¯å¦ä¸ºç©ºã€ä¸º null çš„æ ¡éªŒã€‚æ¯”å¦‚åˆ©ç”¨ `@size (min=1)` æ›¿ä»£ `@NotBlank`
7. ä¸ [æ•°æ®åº“å­—æ®µå¤§å°](MySQLæ•°æ®ç±»å‹.md#mysql%20æ•°æ®ç±»å‹)é™åˆ¶ç»Ÿä¸€
	1. æ¶‰åŠç±»å‹è½¬æ¢çš„ï¼Œæ¯”å¦‚å…¥å‚æ˜¯ int  æ•°æ®åº“æ˜¯ char
	2. ä¸€ä¸€å¯¹åº”æˆ–è€…å‚æ•°å¯èƒ½ä¼šåŠ å·¥
8. åœ¨æ ¡éªŒæ–¹æ³•**å…¥å‚**çš„çº¦æŸæ—¶ï¼Œçº¦æŸæ³¨è§£ï¼ˆå¦‚@NotNullï¼‰ä¸èƒ½æ”¾åœ¨å®ç°ç±»ä¸Šï¼Œ[feginçš„ç»§æ‰¿](Feign.md#Feginçš„ç»§æ‰¿)  
	1.  æœ‰æ¥å£ç»§æ‰¿æƒ…å†µï¼Œæ ¡éªŒæ³¨è§£è¦å†™åœ¨æ¥å£å±‚ï¼Œ[ä¸ç„¶æŠ¥é”™](https://blog.csdn.net/f641385712/article/details/97402946)
9.  åœ¨æ ¡éªŒ**è¿”å›å€¼**æ—¶ï¼Œæ¥å£å’Œå®ç°ç±»éƒ½å­˜åœ¨æ³¨è§£ï¼Œä»¥æ¥å£çº¦æŸä¸ºå‡†  

<span style="background:#A0CCF6">å…·ä½“æ”¯æŒå“ªäº›ç±»å‹çœ‹æºç æ³¨é‡Š</span>
1. å€¼æ ¡éªŒ
2. é•¿åº¦æ ¡éªŒ
	1. `@Length(max = 11, min = 7, message = "é•¿åº¦å¿…é¡»å¤§äºç­‰äº{min}æˆ–å°äºç­‰äº{max}")`ï¼›ç”¨äº ` String `ï¼Œå…¶é•¿åº¦å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…
	2. `@Size(max = 11, min = 7, message = "é•¿åº¦å¿…é¡»å¤§äºç­‰äº{min}æˆ–å°äºç­‰äº{max}")`ï¼›ç”¨äº Stringï¼ŒArrayï¼ŒListï¼ŒMapï¼Œå…¶é•¿åº¦å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…
3. èŒƒå›´æ ¡éªŒ
	1. @Max(value = 18, message = "å¿…é¡»å¤§äºç­‰äº18")
		1. å¯ç”¨äºæ•°å­—ï¼ˆintï¼Œlongï¼Œfloatï¼Œdoubleï¼‰å’Œå­—ç¬¦ä¸²ï¼ˆå­—ç¬¦ä¸²å¿…é¡»ä¸ºæ•°å€¼å‹ï¼‰ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼
	2. @Min
	3. @DecimalMax(value = "150", message = "å¿…é¡»å°äºç­‰äº150")
		1. æ³¨é‡Šå†™ç€ç”±äºèˆå…¥è¯¯å·®ä¸æ”¯æŒ float å’Œ doubleï¼Œå®é™…æµ‹è¯• float å¯ç”¨
		2. å°äºç­‰äºæŒ‡å®šçš„å€¼
	4. @DecimalMin
	5. @Range(max = 80, min = 18, message = "å¿…é¡»å¤§äºç­‰äº{min}æˆ–å°äºç­‰äº{max}")
		1. BigDecimalï¼ŒBigIntegerï¼ŒCharSequenceï¼Œbyteï¼Œshortï¼Œintï¼Œlongï¼›
		2. éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼åœ¨æœ€å°å€¼å’Œæœ€å¤§å€¼ä¹‹é—´
	6. @Past(message = "å¿…é¡»ä¸ºè¿‡å»çš„æ—¶é—´")
	7. @Future(message = "å¿…é¡»ä¸ºæœªæ¥çš„æ—¶é—´")
4. æ ¼å¼æ ¡éªŒ
	1. @Digits(integer=3,fraction = 2,message = "æ•´æ•°ä½ä¸Šé™ä¸º3ä½ï¼Œå°æ•°ä½ä¸Šé™ä¸º2ä½")
		1. floatï¼Œdoubleï¼ŒBigDecimal
		2. éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼çš„æ•´æ•°ä½æ•°å’Œå°æ•°ä½æ•°ä¸Šé™ 
	2. @Pattern(regexp = "\\d{11}",message = "å¿…é¡»ä¸ºæ•°å­—ï¼Œå¹¶ä¸”é•¿åº¦ä¸º11")
		1. String
		2. è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼
	3. @Email(message = "å¿…é¡»æ˜¯é‚®ç®±")
		1. String
		2. éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼æ˜¯ Emailï¼Œä¹Ÿå¯ä»¥é€šè¿‡ regexp å’Œ flag æŒ‡å®šè‡ªå®šä¹‰çš„ email æ ¼å¼
5. åµŒå¥—æ ¡éªŒ
	1. pojo åµŒå¥— pojo
		1. å‚æ•°å‰åŠ  `@Valid`
	2. é›†åˆåµŒå¥— pojo
		1. @Validated+@Valid
	3. é›†åˆåµŒå¥— `String`ã€`Integer` ç­‰
		1. `List<@Size(max = 64)String>`
	4. [Spring Validation æ ¡éªŒé›†åˆæ–°æ–¹æ³•ï¼Œç«Ÿç„¶åœ¨æ³›å‹å‚æ•°é‡ŒåŠ æ³¨è§£ï¼Ÿï¼Ÿ - æ˜é‡‘](https://juejin.cn/post/7044444094948458533)

## validate ä½“ç³»
[bean validate -- è½¬è½½ - xj-record - åšå®¢å›­](https://www.cnblogs.com/nxzblogs/articles/13995569.html)

#####  jsr303 
Java Bean Validation 1.0   13 ä¸ªæ³¨è§£

| æ³¨è§£         | æ”¯æŒç±»å‹                               | å«ä¹‰                                                       | null å€¼æ˜¯å¦æ ¡éªŒ |
|--------------|----------------------------------------|------------------------------------------------------------|----------------|
| @AssertFalse | bool                                   | å…ƒç´ å¿…é¡»æ˜¯ false                                            | å¦             |
| @AssertTrue  | bool                                   | å…ƒç´ å¿…é¡»æ˜¯ true                                             | å¦             |
| @DecimalMax  | Number çš„å­ç±»å‹ï¼ˆæµ®ç‚¹æ•°é™¤å¤–ï¼‰ä»¥åŠ String | å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä¸”å€¼å¿…é¡»<=æœ€å¤§å€¼                       | å¦             |
| @DecimalMin  | åŒä¸Š                                   | å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä¸”å€¼å¿…é¡»>=æœ€å¤§å€¼                       | å¦             |
| @Max         | åŒä¸Š                                   | åŒä¸Š                                                       | å¦             |
| @Min         | åŒä¸Š                                   | åŒä¸Š                                                       | å¦             |
| @Digits      | åŒä¸Š                                   | å…ƒç´ æ„æˆæ˜¯å¦åˆæ³•ï¼ˆæ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†ï¼‰                     | å¦             |
| @Future      | æ—¶é—´ç±»å‹ (åŒ…æ‹¬ JSR310)                   | å…ƒç´ å¿…é¡»ä¸ºä¸€ä¸ª**å°†æ¥**ï¼ˆä¸åŒ…å«ç›¸ç­‰ï¼‰çš„æ—¥æœŸ (æ¯”è¾ƒç²¾ç¡®åˆ°æ¯«ç§’) | å¦             |
| @Past        | åŒä¸Š                                   | å…ƒç´ å¿…é¡»ä¸ºä¸€ä¸ª**è¿‡å»**ï¼ˆä¸åŒ…å«ç›¸ç­‰ï¼‰çš„æ—¥æœŸ (æ¯”è¾ƒç²¾ç¡®åˆ°æ¯«ç§’) | å¦             |
| @NotNull     | any                                    | å…ƒç´ ä¸èƒ½ä¸º null                                             | æ˜¯             |
| @Null        | any                                    | å…ƒç´ å¿…é¡»ä¸º null                                             | æ˜¯             |
| @Pattern     | å­—ç¬¦ä¸²                                 | å…ƒç´ éœ€ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼                                 | å¦             |
| @Size        | String/Collection/Map/Array            | å…ƒç´ **å¤§å°**éœ€åœ¨æŒ‡å®šèŒƒå›´ä¸­                                 | å¦             |


##### jsr349
æ³¨è§£ä¸ªæ•°æ²¡æœ‰å¢åŠ 
è¯¥è§„èŒƒæ˜¯ 2013 å¹´å®Œæˆçš„ï¼Œä¼´éšç€ `Java EE 7` ä¸€èµ·å‘å¸ƒï¼Œå®ƒå°±æ˜¯æˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰çš„ Bean Validation 1.1ã€‚
Java Bean Validation 1.1 ç‰ˆæœ¬å®ç°å¯¹åº”çš„æ˜¯ Hibernate Validator 5.x (1.0 ç‰ˆæœ¬å¯¹åº”çš„æ˜¯ 4.x)

1.  æ ‡å‡†åŒ–äº†Javaå¹³å°çš„çº¦æŸå®šä¹‰ã€æè¿°ã€å’ŒéªŒè¯
2.  **æ”¯æŒæ–¹æ³•çº§éªŒè¯(å…¥å‚æˆ–è¿”å›å€¼çš„éªŒè¯)**
3.  BeanéªŒè¯ç»„ä»¶çš„ä¾èµ–æ³¨å…¥
4.  ä¸ä¸Šä¸‹æ–‡å’ŒDIä¾èµ–æ³¨å…¥é›†æˆ
5.  ä½¿ç”¨**ELè¡¨è¾¾å¼**çš„é”™è¯¯æ¶ˆæ¯æ’å€¼ï¼Œè®©é”™è¯¯æ¶ˆæ¯åŠ¨æ€åŒ–èµ·æ¥ï¼ˆå¼ºä¾èµ–äºElManagerï¼‰
6.  è·¨å‚æ•°éªŒè¯ã€‚æ¯”å¦‚å¯†ç å’ŒéªŒè¯å¯†ç å¿…é¡»ç›¸åŒ

##### jsr380
Java Bean Validation 2.0
æ–°å¢äº† 9 ä¸ªå®ç”¨æ³¨è§£ï¼Œæ€»æ•°åˆ°äº† 22 ä¸ª

|æ³¨è§£             |æ”¯æŒç±»å‹ |å«ä¹‰                               |null å€¼æ˜¯å¦æ ¡éªŒ |
|--------------|--------------|--------------|--------------|
|@Email           |å­—ç¬¦ä¸²   |å…ƒç´ å¿…é¡»ä¸ºç”µå­é‚®ç®±åœ°å€             |å¦             |
|@NotEmpty        |å®¹å™¨ç±»å‹ |é›†åˆçš„ Size å¿…é¡»å¤§äº 0                |æ˜¯             |
|@NotBlank        |å­—ç¬¦ä¸²   |å­—ç¬¦ä¸²å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªéç©ºç™½çš„å­—ç¬¦ |æ˜¯             |
|@Positive        |æ•°å­—ç±»å‹ |å…ƒç´ å¿…é¡»ä¸ºæ­£æ•°ï¼ˆä¸åŒ…æ‹¬ 0ï¼‰          |å¦             |
|@PositiveOrZero  |åŒä¸Š     |åŒä¸Šï¼ˆåŒ…æ‹¬ 0ï¼‰                      |å¦             |
|@Negative        |åŒä¸Š     |å…ƒç´ å¿…é¡»ä¸ºè´Ÿæ•°ï¼ˆä¸åŒ…æ‹¬ 0ï¼‰          |å¦             |
|@NegativeOrZero  |åŒä¸Š     |åŒä¸Šï¼ˆåŒ…æ‹¬ 0ï¼‰                      |å¦             |
|@PastOrPresent   |æ—¶é—´ç±»å‹ |åœ¨@Past åŸºç¡€ä¸ŠåŒ…æ‹¬ç›¸ç­‰              |å¦             |
|@FutureOrPresent |æ—¶é—´ç±»å‹ |åœ¨@Futrue åŸºç¡€ä¸ŠåŒ…æ‹¬ç›¸ç­‰            |å¦             |

##### Java Bean Validation 3.0
Hibernate Validator 7.x
æ²¡æœ‰æ–°ç‰¹æ€§ï¼Œä»…ä»…æ˜¯æ”¹åå»`javax.*`åŒ–

##### hibernate æ‰©å……çš„æ³¨è§£
1. jsr
	1. javax.validation.constraints åŒ…ä¸‹ï¼Œåªæä¾›è§„èŒƒä¸æä¾›å®ç°ã€‚
2. hibernate
	1. org.hibernate.validator.constraints åŒ…ä¸‹
3. spring
	1. org.springframework.validation  ç›®æµ‹å°±åªå¢åŠ äº†ä¸€ä¸ª@Vaidated
4. [æ·±å…¥äº†è§£æ•°æ®æ ¡éªŒï¼ˆBean Validationï¼‰ï¼šä»æ·±å¤„å»æŒæ¡@Validçš„ä½œç”¨ï¼ˆçº§è”æ ¡éªŒï¼‰ä»¥åŠå¸¸ç”¨çº¦æŸæ³¨è§£çš„è§£é‡Šè¯´æ˜](https://cloud.tencent.com/developer/article/1497733)
5. [java - Hibernateæ•°æ®æ ¡éªŒç®€ä»‹ - ä¸ªäººæ–‡ç«  - SegmentFault æ€å¦](https://segmentfault.com/a/1190000041015995)


##### è‡ªå®šä¹‰ Validator
æšä¸¾å€¼ã€å›ºå®šå€¼çš„æ ¡éªŒ
1. [è‡ªå®šä¹‰Validator](https://mp.weixin.qq.com/s?__biz=MzAwMTk4NjM1MA==&mid=2247503323&idx=1&sn=7eff61d135925a42b4d9f9aba86e10c7)

##### refrence
4. [ä½ å¦‚ä½•æ£€æŸ¥å‚æ•°çš„åˆæ³•æ€§ï¼Ÿ](https://mp.weixin.qq.com/s/SBpe_lfoN1VGOsUrFgOGfA)
5. [æˆ‘æ˜¯æ€ä¹ˆè¿›è¡ŒSpringMVCå‚æ•°æ ¡éªŒçš„ï¼Ÿ](https://mp.weixin.qq.com/s?__biz=MzIzMzgxOTQ5NA==&mid=2247487563&idx=1&sn=24a92a6185fd965fef49d68e7eb21301)
6. [Spring Bootå®ç°é€šç”¨çš„æ¥å£å‚æ•°æ ¡éªŒ](https://juejin.cn/post/6844903604143259656)
8. [è¿™ä¹ˆå†™å‚æ•°æ ¡éªŒ(validator)å°±ä¸ä¼šè¢«åŠé€€äº†~ - æ˜é‡‘](https://juejin.cn/post/6844903902811275278)
9. [SpringBoot ä¸­ä½¿ç”¨ @Valid æ³¨è§£ + Exception å…¨å±€å¤„ç†å™¨ä¼˜é›…å¤„ç†å‚æ•°éªŒè¯ | å°è±†ä¸æŠ€æœ¯æ ˆ](http://www.mydlq.club/article/49/)
10. [Spring Boot + Nacos + Sentinel + å‚æ•°æ ¡éªŒ](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247492995&idx=1&sn=6f95c594c0bb9ac38c4f5cb346be765d)
11. [springboot ä½¿ç”¨æ ¡éªŒæ¡†æ¶validationæ ¡éªŒ_åŒæ–œæ å°‘å¹´çš„åšå®¢-CSDNåšå®¢_springboot å‚æ•°æ ¡éªŒ](https://blog.csdn.net/u012373815/article/details/72049796)
12. [éªŒè¯ | å‡¤å‡°æ¶æ„](http://icyfenix.cn/architect-perspective/general-architecture/system-security/verification.html)

![Spring Validation](Spring%20Validation.md)


