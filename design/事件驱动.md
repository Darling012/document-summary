# 事件驱动
## 问题
1. [回调](回调、观察者、事件监听、发布订阅.md#回调)与事件驱动关系
2. 轮询与事件驱动什么关系
3. 
## 什么是事件驱动
![](Pasted%20image%2020230823154153.png)

### 事件驱动和消息驱动
[“消息驱动、事件驱动、流 ”基础概念解析-阿里云开发者社区](https://developer.aliyun.com/article/899673)

[事件驱动和消息驱动](https://cloud.tencent.com/developer/article/1618438)

![](Pasted%20image%2020230823154218.png)

### 事件驱动与设计模式
[观察者模式、发布订阅和事件驱动 - 请叫我西毒 - 博客园](https://www.cnblogs.com/hhhshct/p/10297872.html)
![](Pasted%20image%2020230824112500.png)
## 响应式
[Reactive programming 一种技术 各自表述 - 小马哥的技术博客](https://mercyblitz.github.io/2018/07/25/Reactive-Programming-%E4%B8%80%E7%A7%8D%E6%8A%80%E6%9C%AF-%E5%90%84%E8%87%AA%E8%A1%A8%E8%BF%B0/)
![200|200](Pasted%20image%2020230824101636.png)![200|200](Pasted%20image%2020230824101613.png)![200|200](Pasted%20image%2020230824101541.png)


[2018.9.10 响应式一些内容的分享总结 | 一叶知秋](https://muyinchen.github.io/2018/09/12/2018.9.10%20%E5%93%8D%E5%BA%94%E5%BC%8F%E4%B8%80%E4%BA%9B%E5%86%85%E5%AE%B9%E7%9A%84%E5%88%86%E4%BA%AB%E6%80%BB%E7%BB%93)

[Reactive](Reactive.md)
## reference
![探活与数据同步](探活与数据同步.md#轮询与事件驱动)
[事件驱动架构设计 | Laravel China 社区](https://learnku.com/articles/15187/event-driven-architecture-design)
==适用场景==
1. 实现组件的解耦
2. 执行异步任务
3. 跟踪状态变化（审计日志 audit log）
==监听器和发布订阅==
1. 监听器只对一种事件作出响应，可以用多种方法处理事件。命名明确，符合单一职能原则
2. 订阅器可以对多个事件作出响应，适合 `编排` 业务场景，比如事务处理->启动、提交、回滚
Martin Fowler 定义了 ==3 种事件模式==
1. 事件通知
	1. 事件只携带监听器所需数据
2. 事件承载状态转移
	1. 携带所有数据，使得监听器模块需要其他数据时不需要再查询
3. 事件溯源
	1. 记录所有变更事件，通过计算实体初始态和事件流获取当前状态
	2. 避免过长计算采用快照
	3. 缺点：外部更新、查询、代码变更导致的问题

[什么是事件驱动架构 | Postcard](https://postcard.lilpilot.co/posts/%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8%E6%9E%B6%E6%9E%84/)
1. 传统架构可以说是过程驱动，按照顺序编排、嵌套
2. 事件驱动架构强调事件产生与消费，将逻辑过程转为事件之间的环环相扣。
Event-driven architecture（EDA）事件驱动架构 优点
1. 解耦
	1. [切面](AOP.md#AOP) 逻辑可以配合通知解耦，采用**异步**提升响应能力
2. DDD 与事件风暴
3. 事件溯源
缺点
1. 系统复杂度
使用场景
1. 组件解耦（消息推送、操作记录等）
2. 数据沉淀系统（审计、资产等）
[7.2.2 对象的创建 · 程序设计思想与方法 · 看云](https://www.kancloud.cn/wizardforcel/sjtu-cs902-courseware/119839)
[关于如何设计一个基于事件驱动架构的思考-阿里云开发者社区](https://developer.aliyun.com/article/53471)
[事件驱动的微服务-总体设计\_倚天码农的博客-CSDN博客\_微服务事件驱动](https://blog.csdn.net/weixin_38748858/article/details/105528371)