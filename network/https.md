# https

在 HTTPS 中，使用 `传输层安全性(TLS)` 或 `安全套接字层(SSL)` 对通信协议进行加密。也就是 [[HTTP]] + SSL(TLS) = HTTPS。

##### 问题
A 向 B 发送信息
要解决两个问题 
1. 保证发消息人的身份
	1. 加签名数字证书
2. 保证内容不被泄露
	1. 内容加密

没有解决的问题
1. 在发布公钥的时候，就被中间人拦截，中间人发布其公钥
如何解决
证书 = 公钥 + 签名（第三方）

张三提供公钥 A 给可信任的第三方，李四向第三方申请公钥 A。
第三方把公钥 A 进行签名发送
怎么解决李四拥有的第三方公钥为真？
浏览器内置

1. 本地 keystore 生成的证书安装在本地，本地浏览器可以访问，那别的机器浏览器呢？
2. 



## SSL(TLS)



## reference
[也许，这样理解HTTPS更容易](http://showme.codes/2017-02-20/understand-https/)
A 向 B 发送信息
1. 对消息进行对称加密
2. 所有客户端都使用同一个加密算法等于没加密
3. 解决 2，对每个客户端使用不同的加密算法
4. 对不同客户端使用不同对称加密算法又不让第三方知道，采用每次加随机数生成对称算法，这样每次交互都是新的加密算法
5. 解决 3，要与客户端协商使用哪种算法
6. 保证 4 协商过程不被中间人拦截，采用非对称算法加密（参考 2）
7. 协商过程采用非对称加密，交换公钥时怎么保证返回的公钥是对方的还是中间人的？身份认证问题
8. 引入第三方，第三方将 A 公钥用第三方私钥加密，B 收到后用第三方公钥解密，成功代表确实是第三方发送，也获取到了 A 公钥
9. 但 B 接收过程有可能被中间人拦截，中间人用自己公钥向第三方申请加密，然后发送给 B，B 用第三方公钥也能解密成功
10. 客户端系统和浏览器内置第三方机构及公钥，向 B 发送数字证书包含 A 公钥信息、加密算法及第三方对 A 公钥加密后的数字签名，B 收到后对 A 公钥用提供的加密算法加密，用第三方公钥钥对数字签名解密，然后对比两者


[https为什么出现，解决了什么问题](https://mp.weixin.qq.com/s?__biz=MjM5NTY1MjY0MQ==&mid=2650749726&idx=3&sn=275bbc821740bb7bd284b2b07933b864)
1. 

1. 
3. [HTTPS 的加解密原理](https://mp.weixin.qq.com/s?__biz=MzU0MzQ5MDA0Mw==&mid=2247487669&idx=1&sn=a195f2bb36f88a711ee8262d8267fa2a)
4. [HTTPS 原理图]( https://segmentfault.com/a/1190000021494676 )
5. [什么是对称/非对称加密、密钥交换、数字签名、证书 - 知乎](https://zhuanlan.zhihu.com/p/105087487)
##### 部署 https
7. [执行1个脚本，系统升级到https](https://mp.weixin.qq.com/s?__biz=MzI5NTYwNDQxNA==&mid=2247488207&idx=2&sn=d9b7539123c09dbc27d0b503eeac8cc9)
8. [个人网站 http 免费升级到 https](https://mp.weixin.qq.com/s?__biz=MzIyODE5NjUwNQ==&mid=2653321875&idx=1&sn=7b7245d1b302d888df21cd95215ebccc)